{
  "version": 3,
  "sources": ["../src/index.ts", "../src/nodeOps.ts", "../src/modules/attr.ts", "../src/modules/class.ts", "../src/modules/event.ts", "../src/modules/style.ts", "../src/patchProp.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/h.ts"],
  "sourcesContent": ["import { nodeOps } from \"./nodeOps\";\r\nimport { patchProp } from \"./patchProp\";\r\nimport { createRenderer } from \"@vue/runtime-core\";\r\n/**\r\n * \u5C01\u88C5\u7684DOM\u64CD\u4F5C \u589E\u5220\u6539\u67E5\u7B49\r\n */\r\nconst renderOptions = Object.assign({}, nodeOps, { patchProp });\r\n/**\r\n * \u5B9A\u4E49\u7684\u6E32\u67D3\u5668 \u6D4F\u89C8\u5668\u4F7F\u7528\r\n * @param vnode \r\n * @param container \r\n */\r\nexport const render = (vnode, container) => {\r\n  createRenderer(renderOptions).render(vnode, container);\r\n};\r\n\r\nexport * from \"@vue/runtime-core\";\r\n", "/**\r\n * \u63D2\u5165\u8282\u70B9\r\n * @param child\r\n * @param parent\r\n * @param anchor\r\n */\r\nconst insert = (child: Node, parent: Node, anchor: null | Node = null) => {\r\n  parent.insertBefore(child, anchor);\r\n};\r\n\r\nconst remove = (child: Node) => {\r\n  child.parentNode?.removeChild(child);\r\n};\r\n/**\r\n * \u8BBE\u7F6E\u5143\u7D20\u8282\u70B9\u7684\u5185\u5BB9\r\n * @param el\r\n * @param text\r\n */\r\nconst setElementText = (el: Node, text: string) => {\r\n  el.textContent = text;\r\n};\r\n/**\r\n * \u8BBE\u7F6E\u6587\u672C\u8282\u70B9\u7684\u5185\u5BB9\r\n * @param node\r\n * @param text\r\n */\r\nconst setText = (node: Node, text: string) => {\r\n  node.nodeValue = text;\r\n};\r\n\r\nconst querySelector = (selector: string) => {\r\n  return document.querySelector(selector);\r\n};\r\n\r\nconst querySelectorAll = (selector: string) => {\r\n  return document.querySelectorAll(selector);\r\n};\r\n\r\nconst parentNode = (node: Node) => {\r\n  return node.parentNode;\r\n};\r\nconst nextSibling = (node: Node) => {\r\n  return node.nextSibling;\r\n};\r\nconst createElement = (tagName: string) => {\r\n  return document.createElement(tagName);\r\n};\r\nconst createText = (text: string) => {\r\n  return document.createTextNode(text);\r\n};\r\nconst createComment = (text: string) => {\r\n  return document.createComment(text);\r\n};\r\nexport const nodeOps = {\r\n  insert,\r\n  remove,\r\n  setElementText,\r\n  setText,\r\n  querySelector,\r\n  querySelectorAll,\r\n  parentNode,\r\n  nextSibling,\r\n  createElement,\r\n  createText,\r\n  createComment,\r\n};\r\n", "export const patchAttr = (el: HTMLElement, key: string, value: string) => {\r\n  if (value) {\r\n    el.setAttribute(key, value);\r\n  } else {\r\n    el.removeAttribute(key);\r\n  }\r\n};\r\n", "export const patchClass = (el: HTMLElement, nextValue: string) => {\r\n  if (nextValue == null) {\r\n    el.removeAttribute(\"class\");\r\n  } else {\r\n    el.className = nextValue;\r\n  }\r\n};\r\n", "export const patchEvent = (\r\n  el: HTMLElement,\r\n  eventName: string,\r\n  callback: Function\r\n) => {\r\n  // \u81EA\u5B9A\u4E49\u4E8B\u4EF6 + \u5185\u90E8\u8C03\u7528\u7528\u6237\u4F20\u5165\u7684\u51FD\u6570\r\n  let invokers = (el as any)._vei || ((el as any)._vei = {});\r\n  const exits = invokers[eventName];\r\n  if (exits && callback) {\r\n    // \u7ED1\u5B9A\u7684\u4E8B\u4EF6\u5B58\u5728\r\n    // \u76F4\u63A5\u628A\u4E8B\u4EF6\u7684value\u6362\u6210\u6700\u65B0\u7684\u5373\u53EF\r\n    exits.value.add(callback);\r\n  } else {\r\n    const name = eventName.slice(2).toLowerCase(); // \u53BB\u9664on\u4EE5\u540E\u7684\u4E8B\u4EF6\u540D\u79F0\r\n    // \u4E0D\u5B58\u5728\r\n    if (callback) {\r\n      const invoker = (invokers[eventName] = createInvoker(callback));\r\n      el.addEventListener(name, invoker);\r\n    } else if (exits) {\r\n      // \u4E8B\u4EF6\u7ED1\u5B9A\u51FD\u6570\u4E3Anull \u89E3\u7ED1\r\n      el.removeEventListener(name, exits);\r\n      delete invokers[eventName];\r\n    }\r\n  }\r\n};\r\n\r\nconst createInvoker = (callback: Function) => {\r\n  const invoker = (e: Event) => {\r\n    invoker.value.forEach((fn) => fn(e));\r\n  };\r\n  // \u65B9\u4FBF\u4E8B\u4EF6\u89E3\u7ED1\r\n  invoker.value = new Set<Function>().add(callback);\r\n  return invoker;\r\n};\r\n", "export const patchStyle = (\r\n  el: HTMLElement,\r\n  prevValue: object,\r\n  nextValue: object\r\n) => {\r\n  // \u8BBE\u7F6E\u65B0\u6837\u5F0F\r\n  for (const key in nextValue) {\r\n    el.style[key] = nextValue[key];\r\n  }\r\n  // \u5220\u9664\u8001\u7684\u4E00\u4E9B\u6837\u5F0F \u4E0D\u5728\u65B0\u7684\u91CC\u9762\u5B58\u5728\u7684\r\n  if (prevValue) {\r\n    for (const key in prevValue) {\r\n      if (nextValue[key] == null) el.style[key] = null;\r\n    }\r\n  }\r\n};\r\n", "import { patchAttr } from \"./modules/attr\";\r\nimport { patchClass } from \"./modules/class\";\r\nimport { patchEvent } from \"./modules/event\";\r\nimport { patchStyle } from \"./modules/style\";\r\n\r\n/**\r\n * \u5C5E\u6027\u64CD\u4F5C\r\n * @param el\r\n * @param key\r\n * @param prevValue\r\n * @param nextValue\r\n */\r\nexport const patchProp = (\r\n  el: Node,\r\n  key: string,\r\n  prevValue: string,\r\n  nextValue: string\r\n) => {\r\n  if (key === \"class\") {\r\n    patchClass(el as HTMLElement, nextValue);\r\n  } else if (key === \"style\") {\r\n    patchStyle(el as HTMLElement, prevValue as any, nextValue as any);\r\n  } else if (/^on[^a-z]/.test(key)) {\r\n    patchEvent(el as HTMLElement, key, nextValue as any as Function);\r\n  } else {\r\n    patchAttr(el  as HTMLElement, key, nextValue);\r\n  }\r\n};\r\n", "/**\r\n * \u521B\u5EFA\u6E32\u67D3\u5668\r\n * @param renderOptions\r\n * @returns\r\n */\r\nexport const createRenderer = (renderOptions: RenderOptions<any>) => {\r\n  // \u6E32\u67D3\u51FD\u6570\r\n  const render = (vnode, container) => {};\r\n  return {\r\n    render,\r\n  };\r\n};\r\n\r\ninterface RenderOptions<T = any> {\r\n  insert: (child: T, parent: T, anchor: null | T) => void;\r\n  remove: (child: T) => void;\r\n  setElementText: (el, text) => void;\r\n  setText: (el, text) => void;\r\n  querySelector: (selector: string) => any;\r\n  querySelectorAll: (selector: string) => any;\r\n  parentNode;\r\n  nextSibling;\r\n  createElement;\r\n  createText;\r\n  createComment;\r\n}\r\n", "\r\nexport const h = ()=>{\r\n  \r\n}"],
  "mappings": "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",
  "names": []
}
